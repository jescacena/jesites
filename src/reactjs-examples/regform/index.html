<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>ReactJS: Registration Form</title>

    <style>
    @import 'https://fonts.googleapis.com/css?family=Quattrocento+Sans:400,400i,700,700i|Kalam:300';
    </style>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/main.css">

    <script src="https://npmcdn.com/react@15.3.1/dist/react.min.js"></script>
    <script src="https://npmcdn.com/react-dom@15.3.1/dist/react-dom.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.25/browser.min.js"></script>


  </head>
  <body>

    <header>
      <img src="../img/logo-reactjs.png" width="200">
      <h1>Registration form</h1>
    </header>

    <main>

      <section>
        <h2>Output</h2>
        <div class="container">
          <div class="row">
            <div class="col-md-4 col-md-offset-4">
              <h1 class="page-header">Register</h1>
              <div id="regForm"></div>
            </div>
          </div>
        </div>
      </section>

      <section>
        <h2>Source code</h2>

        <div class="sample">
           <xmp class="code">

<div id="regForm"></div>


<script type="text/babel">

 var AlertBox = React.createClass({
   render: function() {
     return(
       <div className={"alert alert-danger"+this.props.type}>{this.props.children}</div>
     );
   }
 });
 var RegForm = React.createClass({
   getInitialState: function() {
     return {
       showAlert: false
     }
   },
   register: function(e) {
     e.preventDefault();
     var firstName = this.refs.firstName.value.trim();
     var lastName = this.refs.lastName.value.trim();
     var email = this.refs.email.value.trim();

     if(!firstName || !lastName || !email) {
       this.setState( { showAlert: true } );
       return;

     }

     alert('Thank you ' + firstName + ' ' + lastName + ' for registering ' + email);

     this.refs.firstName.value = '';
			this.refs.lastName.value = '';
			this.refs.email.value = '';
     this.setState( { showAlert: false } );


   },

   render: function() {
     return(
       <div>
         <form onSubmit={this.register}>
           {this.state.showAlert ? <AlertBox type="danger">Please fill in all fields</AlertBox> : null}
           <div className="form-group">
             <label htmlFor="firstName">Nombre: </label>
             <input type="text" className="form-control"
               placeholder="Nombre" ref="firstName" />
           </div>
           <div className="form-group">
             <label htmlFor="lastName">Apellidos: </label>
             <input type="text" className="form-control"
               placeholder="Apellidos" ref="lastName" />
           </div>
           <div className="form-group">
             <label htmlFor="email">Email: </label>
             <input type="text" className="form-control"
               placeholder="Nombre" ref="email" />
           </div>
           <input type="submit" className="btn btn-primary" value="Submit" />
         </form>
       </div>
     );
   }
 });

 ReactDOM.render(
     <RegForm />,
     document.getElementById('regForm')
   );


</script>

           </xmp>
       </div>
     </section>
   </main>

    <script type="text/babel">

      var AlertBox = React.createClass({
        render: function() {
          return(
            <div className={"alert alert-danger"+this.props.type}>{this.props.children}</div>
          );
        }
      });
      var RegForm = React.createClass({
        getInitialState: function() {
          return {
            showAlert: false
          }
        },
        register: function(e) {
          e.preventDefault();
          var firstName = this.refs.firstName.value.trim();
          var lastName = this.refs.lastName.value.trim();
          var email = this.refs.email.value.trim();

          if(!firstName || !lastName || !email) {
            this.setState( { showAlert: true } );
            return;

          }

          alert('Thank you ' + firstName + ' ' + lastName + ' for registering ' + email);

          this.refs.firstName.value = '';
  				this.refs.lastName.value = '';
  				this.refs.email.value = '';
          this.setState( { showAlert: false } );


        },

        render: function() {
          return(
            <div>
              <form onSubmit={this.register}>
                {this.state.showAlert ? <AlertBox type="danger">Please fill in all fields</AlertBox> : null}
                <div className="form-group">
                  <label htmlFor="firstName">Nombre: </label>
                  <input type="text" className="form-control"
                    placeholder="Nombre" ref="firstName" />
                </div>
                <div className="form-group">
                  <label htmlFor="lastName">Apellidos: </label>
                  <input type="text" className="form-control"
                    placeholder="Apellidos" ref="lastName" />
                </div>
                <div className="form-group">
                  <label htmlFor="email">Email: </label>
                  <input type="text" className="form-control"
                    placeholder="Nombre" ref="email" />
                </div>
                <input type="submit" className="btn btn-primary" value="Submit" />
              </form>
            </div>
          );
        }
      });

      ReactDOM.render(
          <RegForm />,
          document.getElementById('regForm')
        );


    </script>

</body>
</html>
